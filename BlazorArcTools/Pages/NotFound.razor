@page "/notfound"
@inject NavigationManager NavigationManager
@inject IJSRuntime JS

<MudText Typo="Typo.h6">
    你寻找的页面不存在。请点击按钮返回上一页或者重新加载到主页面。
</MudText>

<MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           OnClick="Button1OnClick">
           返回上一页
</MudButton>
<MudButton Variant="Variant.Filled"
           Color="Color.Primary"
           OnClick="Button2OnClick">
           重新加载到主页面
</MudButton>



@code {
    async Task Button1OnClick()
    {
        //先检查 history.length,如果>1则调用history.back(),否则回到首页作为兜底
        var len = await JS.InvokeAsync<int>("eval", "history.length");
        if (len > 1)
        {
            await JS.InvokeVoidAsync("history.back");
        }
        else
        {
            NavigationManager.NavigateTo("/");
        }
    }
    void Button2OnClick() => NavigationManager.NavigateTo("/");
}
